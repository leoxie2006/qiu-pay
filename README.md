<h1 align="center">ğŸ’° Qiu-Pay</h1>

<p align="center">
æ— éœ€è¥ä¸šæ‰§ç…§çš„å¼€æºæ”¯ä»˜æ–¹æ¡ˆ  
é€‚ç”¨äºä¸ªäººå¼€å‘è€… / å°å›¢é˜Ÿ / ç‹¬ç«‹ç«™
</p>

<p align="center">
ğŸš« ä¸éœ€è¦ä¼ä¸šèµ„è´¨  
ğŸš« ä¸éœ€è¦ç­¾çº¦æ”¯ä»˜æ¥å£  
ğŸš« ä¸éœ€è¦æ‰‹ç»­è´¹å¹³å°
</p>

<p align="center">
é€šè¿‡æ”¯ä»˜å®è´¦å•æ£€æµ‹å®ç°è‡ªåŠ¨ç¡®è®¤æ”¯ä»˜ï¼ŒQiu-Pay ä¸æ˜¯æ”¯ä»˜æ¥å£ï¼Œè€Œæ˜¯æ”¯ä»˜ç¡®è®¤æ–¹æ¡ˆã€‚
</p>

[![license](https://img.shields.io/github/license/leoxie2006/qiu-pay)](https://github.com/leoxie2006/qiu-pay/blob/main/LICENSE.md)
[![release](https://img.shields.io/github/v/release/leoxie2006/qiu-pay)](https://github.com/leoxie2006/qiu-pay/releases)
[![docker](https://img.shields.io/docker/pulls/qiusheng26/qiu-pay)](https://hub.docker.com/r/qiusheng26/qiu-pay)
[![stars](https://img.shields.io/github/stars/leoxie2006/qiu-pay)](https://github.com/leoxie2006/qiu-pay)
[![issues](https://img.shields.io/github/issues/leoxie2006/qiu-pay)](https://github.com/leoxie2006/qiu-pay/issues)

</div>

---
# Qiu-Pay
## â“ ä¸ºä»€ä¹ˆä¸ç”¨ä¼ ç»Ÿèšåˆæ”¯ä»˜ï¼Ÿ

| å¯¹æ¯”é¡¹ | ä¼ ç»Ÿèšåˆæ”¯ä»˜ | Qiu-Pay |
|--------|-------------|---------|
| éœ€è¦è¥ä¸šæ‰§ç…§ | âœ… å¿…é¡» | âŒ ä¸éœ€è¦ |
| éœ€è¦ç­¾çº¦æ”¯ä»˜æ¥å£ | âœ… | âŒ |
| æ‰‹ç»­è´¹ | æœ‰ | æ—  |
| é€‚åˆä¸ªäººå¼€å‘è€… | âŒ | âœ… |
| éƒ¨ç½²å¤æ‚åº¦ | é«˜ | ä½ |
| æˆæœ¬ | é«˜ | å‡ ä¹ 0 |

## ğŸ‘¨â€ğŸ’» é€‚ç”¨åœºæ™¯

- ç‹¬ç«‹å¼€å‘è€…æ”¶æ¬¾
- å°ç¨‹åºæ”¶æ¬¾
- SaaS é¡¹ç›®å†…è´­
- ä¸ªäººç½‘ç«™æ”¯ä»˜
- æ— æ³•ç”³è¯·å•†æˆ·å·çš„é¡¹ç›®

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ” æ”¯ä»˜å®è´¦å•æ£€æµ‹ï¼Œè‡ªåŠ¨ç¡®è®¤æ”¯ä»˜çŠ¶æ€
- ğŸ‘¥ å¤šå•†æˆ·ç®¡ç†ï¼Œç‹¬ç«‹å‡­è¯å’Œå¯†é’¥
- ğŸ’² è®¢å•é‡‘é¢å°¾æ•°è‡ªåŠ¨è°ƒæ•´ï¼Œé¿å…åŒé‡‘é¢å†²çª
- ğŸ”” å¼‚æ­¥å›è°ƒé€šçŸ¥ï¼Œæ”¯æŒè‡ªåŠ¨é‡è¯•ï¼ˆæœ€å¤š 5 æ¬¡ï¼‰
- ğŸ“Š ç®¡ç†åå°ï¼šä»ªè¡¨ç›˜ã€å•†æˆ·ç®¡ç†ã€è®¢å•ç®¡ç†ã€ç³»ç»Ÿè®¾ç½®ã€ä½¿ç”¨æ–‡æ¡£

## ğŸ›  æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| åç«¯ | Python / FastAPI / SQLite |
| å‰ç«¯ | Vue 3 / Element Plus / TypeScript |
| éƒ¨ç½² | Docker / Docker Compose |

## âš¡ 5åˆ†é’Ÿæ­å»ºæ”¯ä»˜ç³»ç»Ÿ

1. Docker å¯åŠ¨
2. ä¸Šä¼ æ”¶æ¬¾ç 
3. åˆ›å»ºå•†æˆ·
4. å¼€å§‹æ”¶æ¬¾

## ğŸš€ Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. åˆ›å»ºé¡¹ç›®ç›®å½•ï¼š

```bash
mkdir qiupay && cd qiupay
```

2. åˆ›å»º `.env` æ–‡ä»¶ï¼š

```env
# ç®¡ç†å‘˜è´¦å·ï¼ˆåŠ¡å¿…ä¿®æ”¹é»˜è®¤å¯†ç ï¼‰
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_secure_password

# JWT å¯†é’¥ï¼ˆåŠ¡å¿…ä¿®æ”¹ä¸ºéšæœºå­—ç¬¦ä¸²ï¼‰
JWT_SECRET=your-random-secret-key

# åç«¯é…ç½®
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
```

3. åˆ›å»º `docker-compose.yml`ï¼š

```yaml
services:
  qiupay:
    image: qiusheng26/qiu-pay:latest
    container_name: qiupay
    restart: unless-stopped
    ports:
      - "${BACKEND_PORT:-8000}:${BACKEND_PORT:-8000}"
    volumes:
      - ./data:/app/data
    env_file:
      - .env
```

4. å¯åŠ¨æœåŠ¡ï¼š

```bash
docker compose up -d
```

5. è®¿é—® `http://ä½ çš„æœåŠ¡å™¨IP:8000` è¿›å…¥ç®¡ç†åå°ã€‚

## ğŸ”§ å¼€å‘éƒ¨ç½²

1. å…‹éš†é¡¹ç›®ï¼š

```bash
git clone https://github.com/leoxie2006/qiu-pay.git
cd qiupay
```

2. å®‰è£…åç«¯ä¾èµ–ï¼ˆéœ€è¦ Python 3.12+ï¼‰ï¼š

```bash
pip install -r requirements.txt
```

> pyzbar ä¾èµ–ç³»ç»Ÿåº“ zbarï¼ŒLinux ä¸‹éœ€å…ˆå®‰è£…ï¼š`apt install libzbar0`

3. å¤åˆ¶å¹¶ç¼–è¾‘ç¯å¢ƒå˜é‡ï¼š

```bash
cp .env.example .env
```

å°† `CORS_ENABLED` è®¾ä¸º `1` ä»¥æ”¯æŒå‰åç«¯åˆ†ç¦»å¼€å‘ã€‚

4. å¯åŠ¨åç«¯ï¼š

```bash
uvicorn app.main:app --reload --host localhost --port 8000
```

5. å®‰è£…å¹¶å¯åŠ¨å‰ç«¯ï¼ˆéœ€è¦ Node.js 20+ï¼‰ï¼š

```bash
cd frontend
npm install
npm run dev
```

å‰ç«¯é»˜è®¤è¿è¡Œåœ¨ `http://localhost:5173`ï¼ŒAPI è¯·æ±‚ä¼šè‡ªåŠ¨ä»£ç†åˆ°åç«¯ã€‚

6. è¿è¡Œæµ‹è¯•ï¼š

```bash
pytest
```

### æ„å»º Docker é•œåƒ

```bash
docker build -t qiusheng26/qiu-pay:latest .
docker push qiusheng26/qiu-pay:latest
```

## âš™ï¸ ç¯å¢ƒå˜é‡

| å˜é‡ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|--------|------|
| DB_PATH | data/qiupay.db | æ•°æ®åº“æ–‡ä»¶è·¯å¾„ |
| ADMIN_USERNAME | admin | ç®¡ç†å‘˜ç”¨æˆ·å |
| ADMIN_PASSWORD | admin123 | ç®¡ç†å‘˜å¯†ç  |
| JWT_SECRET | - | JWT ç­¾åå¯†é’¥ |
| BACKEND_HOST | localhost | åç«¯ç›‘å¬åœ°å€ |
| BACKEND_PORT | 8000 | åç«¯ç›‘å¬ç«¯å£ |
| CORS_ENABLED | 0 | æ˜¯å¦å¯ç”¨ CORS |
| CORS_ORIGINS | http://localhost:5173 | å…è®¸çš„è·¨åŸŸæ¥æº |
| FRONTEND_HOST | localhost | å‰ç«¯å¼€å‘æœåŠ¡å™¨åœ°å€ |
| FRONTEND_PORT | 5173 | å‰ç«¯å¼€å‘æœåŠ¡å™¨ç«¯å£ |

## ğŸ“– å¿«é€Ÿå¼€å§‹

1. ä½¿ç”¨ç®¡ç†å‘˜è´¦å·ç™»å½•åå°
2. åœ¨ã€Œå•†æˆ·ç®¡ç† â†’ å‡­è¯é…ç½®ã€ä¸­é…ç½®æ”¯ä»˜å®å‡­è¯
3. ä¸Šä¼ å•†å®¶æ”¶æ¬¾äºŒç»´ç 
4. åˆ›å»ºå•†æˆ·ï¼Œè·å–å•†æˆ· IDï¼ˆpidï¼‰å’Œå¯†é’¥ï¼ˆkeyï¼‰
5. å•†æˆ·é€šè¿‡ API å‘èµ·æ”¯ä»˜è¯·æ±‚

è¯¦ç»†æ“ä½œæ­¥éª¤è¯·æŸ¥çœ‹ç®¡ç†åå°çš„ã€Œä½¿ç”¨æ–‡æ¡£ã€é¡µé¢ã€‚

## ğŸ“„ è®¸å¯è¯

[MIT License](https://github.com/leoxie2006/qiu-pay/blob/main/LICENSE.md)

## â˜• èµèµæ”¯æŒ

å¦‚æœè§‰å¾—é¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œæ¬¢è¿èµèµæ”¯æŒ

<div align="center">
  <img src="https://raw.githubusercontent.com/leoxie2006/qiu-pay/main/docs/public/0.jpg" width="300" />
</div>

## âš ï¸ åˆè§„å£°æ˜

æœ¬é¡¹ç›®ä»…ç”¨äºä¸ªäººæŠ€æœ¯ç ”ç©¶æˆ–æ”¶æ¬¾ç¡®è®¤åœºæ™¯ï¼Œä¸æä¾›èµ„é‡‘æ¸…ç®—ã€ä»£æ”¶ä»£ä»˜ç­‰æ”¯ä»˜æœåŠ¡ã€‚

ç”¨æˆ·éœ€éµå®ˆå½“åœ°æ³•å¾‹æ³•è§„åŠæ”¯ä»˜å®ç›¸å…³åè®®ï¼Œå› ä¸å½“ä½¿ç”¨äº§ç”Ÿçš„é£é™©ç”±ä½¿ç”¨è€…è‡ªè¡Œæ‰¿æ‹…ã€‚
